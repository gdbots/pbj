{
  "$schema": "http:\/\/json-schema.org\/schema#",
  "id": "http:\/\/yourdomain.com\/schemas\/acme\/acme\/blog\/entity\/1-0-1.json",
  "type": "object",
  "properties": {
    "_id": {
      "type": "string",
      "required": true,
      "additionalProperties": {
        "customType": "identifier"
      }
    },
    "slug": {
      "type": "string",
      "required": true,
      "pattern": "\/^[A-Za-z0-9_\\-]+$\/",
      "additionalProperties": {
        "customType": "string"
      }
    },
    "title": {
      "type": "string",
      "required": true,
      "additionalProperties": {
        "customType": "text"
      }
    },
    "failed_request": {
      "type": "object",
      "required": true,
      "anyOf": [
        {
          "$ref": "#\/definitions\/request"
        }
      ],
      "additionalProperties": {
        "customType": "message"
      }
    },
    "failure_reason": {
      "type": "string",
      "enum": [
        "empty",
        "invalid",
        "deleted"
      ],
      "additionalProperties": {
        "customType": "string-enum",
        "withDefault": "empty"
      }
    }
  },
  "required": [
    "_id",
    "slug",
    "title",
    "failed_request"
  ],
  "definitions": {
    "request": {
      "id": "http:\/\/yourdomain.com\/schemas\/gdbots\/gdbots\/pbj\/mixin\/1-0-0.json",
      "type": "object",
      "properties": {
        "request_id": {
          "type": "string",
          "required": true,
          "additionalProperties": {
            "customType": "time-uuid"
          }
        },
        "microtime": {
          "type": "number",
          "required": true,
          "additionalProperties": {
            "customType": "microtime"
          }
        },
        "correlator": {
          "type": "object",
          "additionalProperties": {
            "customType": "message-ref"
          }
        }
      },
      "required": [
        "request_id",
        "microtime"
      ],
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}