<?php

namespace {{ schema.languages.get('php').get('namespace') }};

{% block use_statements %}
use Gdbots\Pbj\AbstractMixin;
use Gdbots\Pbj\FieldBuilder as Fb;
use Gdbots\Pbj\SchemaId;
use Gdbots\Pbj\Type as T;
{% endblock use_statements %}

{% block class_definition %}
class {{ schema.className }}{{ prefix }} extends AbstractMixin
{% endblock class_definition %}
{
{% block class_body %}
    /**
     * {@inheritdoc}
     */
    public function getId()
    {
        return SchemaId::fromString('{{ schema.id }}');
    }

    /**
     * {@inheritdoc}
     */
    public function getFields()
    {
        return [
          {% for field in schema.fields %}
            Fb::create('{{ field.name }}', T\{{ class(field.type) }}::create())
              {% if field.required %}
                ->required(),
              {% endif %}
              ->build(),
          {% endfor %}
        ];
    }
{% endblock class_body %}
}
